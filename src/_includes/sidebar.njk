<aside class="sidebar">
  <nav class="sidebar-nav">
    <div class="sidebar-top-row">
      <a href="{{ '/' | url }}" class="sidebar-link sidebar-home">Home</a>
      <div class="sidebar-top-actions">
        <a href="https://github.com/thien137/vibenotes" class="sidebar-btn sidebar-github-btn" aria-label="GitHub" title="View on GitHub" target="_blank" rel="noopener noreferrer"><svg class="github-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg></a>
        <button type="button" id="settings-btn" class="sidebar-btn settings-btn" aria-label="Settings" title="Settings">
          <span class="settings-btn-icon">⚙</span>
        </button>
        <button type="button" id="sidebar-toggle-btn" class="sidebar-btn sidebar-toggle-btn" aria-label="Toggle sidebar" title="Hide/Show sidebar">
          <span class="sidebar-toggle-icon">◀</span>
        </button>
      </div>
    </div>
    <div id="sidebar-note-toc-divider" class="sidebar-note-toc-divider-above" style="display: none;"></div>
    <div id="sidebar-note-toc" class="sidebar-note-toc" style="display: none;">
      <div class="sidebar-note-toc-header">
        <div id="sidebar-note-current-title" class="sidebar-note-current-title" title="Scroll to top">—</div>
        <button type="button" class="sidebar-note-toc-expand-btn" id="sidebar-note-toc-expand-btn" aria-label="Expand section list" aria-expanded="true">▾</button>
      </div>
      <div class="sidebar-note-toc-panel" id="sidebar-note-toc-panel">
        <div class="sidebar-toc-title">In this note</div>
        <ul id="sidebar-toc-list" class="sidebar-toc-list"></ul>
      </div>
    </div>
    <div id="sidebar-toc-divider" class="sidebar-toc-divider" style="display: none;"></div>
    {% for topic in topics.topics %}
    <div class="topic-dropdown" data-topic="{{ topic.id }}" role="group">
      <div class="topic-summary" tabindex="0" role="button" aria-expanded="false" aria-controls="topic-panel-{{ topic.id }}">
        <a href="{{ '/topic/' + topic.id + '/' | url }}" class="topic-link" onclick="event.stopPropagation()">{{ topic.title }}</a>
        <button type="button" class="topic-expand-btn" aria-label="Expand notes">▾</button>
      </div>
      <div class="note-links-wrapper" id="topic-panel-{{ topic.id }}">
        <ul class="note-links">
          {% for note in topic.notes %}
          <li>
            <a href="{{ '/notes/' + note.id + '/' | url }}" class="note-link{% if page.fileSlug == note.id %} note-link-current{% endif %}">{{ note.title }}</a>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
    {% endfor %}
  </nav>
</aside>
